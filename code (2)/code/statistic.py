import os
import numpy as np
import pandas as pd

import matplotlib.pyplot as plt

root_dir = 'E:\\chenguo-code\\all\\normal\\'
dir_list = ['csv']

# dir_list += ['20221113_200701', '20221113_095956', '20221113_100017', '20221113_100105',
#              '20221113_100153', '20221113_200207', '20221113_200635', '20221203_170630',
#              '20221203_170850', '20221203_170915', '20221203_170943', '20221203_171011',
#              '20221203_171047', '20221203_171110', '20221203_171138', '20221203_171211',
#              '20221203_171233', '20221203_171536', '20221203_171606', '20221203_171625']

# dir_list = ['20221113_200701', '20221113_095901', '20221113_095956', '20221113_100017', '20221113_100105',
#             '20221113_100153', '20221113_200207', '20221113_200635', '20221203_170630', '20221203_170850',
#             '20221203_170915', '20221203_170943', '20221203_171011', '20221203_171047', '20221203_171110',
#             '20221203_171138', '20221203_171211', '20221203_171233', '20221203_171536', '20221203_171606',
#             '20221203_171625', '20221203_171919', '20221203_171946', '20221203_172001', '20221203_172024',
#             '20221203_172037', '20221203_172058', '20221203_172104', '20221203_172125', '1',
#             '111']
#
# dir_list += ['345', '456']
#
# dir_list += ['20221230_125343', '20221230_125307', '20221230_125227', '20221230_125040', '20221230_125008',
#              '20221230_124735']

for dir_name in dir_list:
    centroid_csv = os.path.join(root_dir, dir_name, '1.csv')
    if os.path.exists(centroid_csv) is not True:
        continue
    centroids = pd.read_csv(centroid_csv).values

    # 归一
    # (x + 0.3)  * 1.6777     ->  [0 - 1]
    # (y + 0.26) * 1.923      ->  [0 - 1]
    # (z + 1.2)  * 0.8333     ->  [0 - 1]
    centroids[:, 0] = (centroids[:, 0] + 0.3) * 1.6
    centroids[:, 1] = (centroids[:, 1] + 0.26) * 1.923
    centroids[:, 2] = (centroids[:, 2] + 1.2) * 0.8
    centroids = np.around(centroids, 2)
    centroids = pd.DataFrame(centroids)
    centroids.plot(kind='hist', subplots=True, bins=10, sharex=True)
    plt.xlim(0,1)

    plt.show()
